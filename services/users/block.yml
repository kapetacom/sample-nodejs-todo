kind: blockware/block-type-service:local
metadata:
  name: blockware/nodejs-sample-users-service
  title: User Service
spec:
  target:
    kind: blockware/language-target-nodejs:local

  entities:
    types:
    - name: User
      properties:
        id:
          type: string
        name:
          type: string
        email:
          type: string

  consumers:
  - kind: blockware/resource-type-postgresql:0.0.2
    metadata:
      name: users

  providers:
  - kind: blockware/resource-type-rest-api:0.0.4
    metadata:
      name: users
    spec:
      methods:
        createUser:
          description: Create user
          method: POST
          path: /users/{id}
          arguments:
            id:
              type: string
              transport: path
            user:
              type: User
              transport: body

          responseType: User

        getUser:
          description: Get user by id
          method: GET
          path: /users/{id}

          arguments:
            id:
              type: string
              transport: path

          responseType: User

        deleteUser:
          description: Delete user by id
          method: DELETE
          path: /users/{id}

          arguments:
            id:
              type: string
              transport: path